package com.cdm.pages;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

import com.aventstack.extentreports.ExtentTest;
import com.cdm.common.CommonActions;

public class DeploymentsPage extends CommonActions {

	public DeploymentsPage(WebDriver driver, ExtentTest logger) // created WebDriver Constructor
	{
		super(driver, logger);
		this.driver = driver;
		PageFactory.initElements(driver, this);
	}

	private WebDriver driver;

	@FindBy(xpath = "//input[@name='appname']")
	WebElement deploymentAppName;

	@FindBy(xpath = "//thead/tr[1]/th[1]/div[1]/app-filter[1]/div[1]/a[1]/mat-icon[1]")
	WebElement edgeNameSearch;

	@FindBy(xpath = "//thead/tr[1]/th[2]/div[1]/app-filter[1]/div[1]/a[1]/mat-icon[1]']")
	WebElement edgeAppNameSearch;

	@FindBy(xpath = "//input[@formcontrolname='displayname']")
	WebElement edgeNameInputUpdate;

	@FindBy(xpath = "//table[@matsortactive='created']")

	WebElement deploymentTable;

	@FindBy(xpath = "//input[@name='devicename']")

	WebElement EdgeNameDeploymentInput;

	@FindBy(xpath = "//input[@name='appname']")

	WebElement EdgeAppNameDeploymentInput;

	@FindBy(xpath = "//a[contains(text(),'Deployments')]")
	WebElement deployment_tab;

	@FindBy(xpath = "//img[@class='mat-tooltip-trigger ml-1 ng-star-inserted']")
	WebElement view_eye_btn;

	@FindBy(xpath = "//h3[@class='titleHeading']")
	WebElement Deploy_heading;

	@FindBy(xpath = "//img[@class='mat-tooltip-trigger ng-star-inserted']")
	WebElement refresh_btn;

	@FindBy(className = "mat-tooltip-trigger")
	WebElement i_mark;
	// Need to attach number of rows in table using WebElements

	public void verifyTitle() {
		ElementExist(Deploy_heading, getScreenshot());
	}

	public void verifyimark() {
		ElementExist(i_mark, getScreenshot());
	}

	public void refresbtn() {
		refresh_btn.click();
	}

	public void deploymentAppName(String appName) {
		deploymentAppName.sendKeys(appName);
	}

	public void deploymenttabclick() {
		deployment_tab.click();
	}

	public void listDeploymentTable() {

		// Example: Iterate through rows and print cell values
		for (WebElement row : deploymentTable.findElements(By.tagName("tr"))) {
			for (WebElement cell : row.findElements(By.tagName("td"))) {
				String cellcolumn = cell.getText();
				System.out.print(cell.getText() + "\t");
			}
			System.out.println();
		}

	}

	public void edgeNameSearchvalidate() {
		edgeNameSearch.click();

	}
}
